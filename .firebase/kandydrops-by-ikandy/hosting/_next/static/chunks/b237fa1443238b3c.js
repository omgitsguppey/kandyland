(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52754,e=>{"use strict";let t=(0,e.i(75254).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],52754)},45678,e=>{"use strict";var t=e.i(43476),a=e.i(22016),r=e.i(32341),n=e.i(86690),s=e.i(75254);let i=(0,s.default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var o=e.i(52754),l=e.i(7233),c=e.i(71645),d=e.i(46932),u=e.i(88653),p=e.i(92270),h=e.i(60289),m=e.i(7866),x=e.i(39616);let b=(0,s.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var f=e.i(75157);function y(){let{user:e,logout:a}=(0,r.useAuth)(),[n,s]=(0,c.useState)(!1),i=(0,c.useRef)(null),o=e?.email==="uylusjohnson@gmail.com";return((0,c.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e)?(0,t.jsxs)("div",{className:"relative",ref:i,children:[(0,t.jsxs)("button",{onClick:()=>s(!n),className:"flex items-center gap-3 pl-2 pr-4 py-1.5 rounded-full hover:bg-white/10 transition-colors border border-transparent hover:border-white/10",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-brand-pink to-brand-purple flex items-center justify-center text-white font-bold text-sm shadow-md",children:e.displayName?.charAt(0).toUpperCase()||"U"}),o&&(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-brand-cyan rounded-full border-2 border-black",title:"Admin User"})]}),(0,t.jsxs)("div",{className:"hidden md:flex flex-col items-start text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-bold text-white leading-tight",children:e.displayName}),o&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full bg-brand-cyan/20 text-brand-cyan text-[10px] font-bold border border-brand-cyan/30",children:"ADMIN"})]}),(0,t.jsx)("span",{className:"text-gray-400 font-medium",children:"View Profile"})]}),(0,t.jsx)(b,{className:(0,f.cn)("w-4 h-4 text-gray-400 transition-transform duration-300",n&&"rotate-180")})]}),(0,t.jsx)(u.AnimatePresence,{children:n&&(0,t.jsxs)(d.motion.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 w-64 glass-panel backdrop-blur-3xl bg-black/80 rounded-2xl p-2 shadow-2xl border border-white/10 overflow-hidden origin-top-right z-50",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-white/10 mb-2",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-white flex items-center gap-2",children:["My Account",o&&(0,t.jsx)("span",{className:"text-xs text-brand-cyan",children:"(Admin)"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.email})]}),(0,t.jsxs)("nav",{className:"space-y-1",children:[o&&(0,t.jsx)(g,{href:"/admin",icon:(0,t.jsx)(h.LayoutDashboard,{className:"w-4 h-4 text-brand-cyan"}),label:"Admin Dashboard",onClick:()=>s(!1)}),(0,t.jsx)(g,{href:"/dashboard",icon:(0,t.jsx)(h.LayoutDashboard,{className:"w-4 h-4"}),label:"Dashboard",onClick:()=>s(!1)}),(0,t.jsx)(g,{href:"/dashboard/library",icon:(0,t.jsx)(m.Library,{className:"w-4 h-4"}),label:"My KandyDrops",onClick:()=>s(!1)}),(0,t.jsx)(g,{href:"/dashboard/profile",icon:(0,t.jsx)(x.Settings,{className:"w-4 h-4"}),label:"Settings",onClick:()=>s(!1)})]}),(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10",children:(0,t.jsxs)("button",{onClick:()=>{a(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-xl transition-colors",children:[(0,t.jsx)(p.LogOut,{className:"w-4 h-4"}),"Sign Out"]})})]})})]}):null}function g({href:e,icon:r,label:n,onClick:s}){return(0,t.jsxs)(a.default,{href:e,onClick:s,className:"flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-xl transition-all group",children:[(0,t.jsx)("span",{className:"group-hover:text-brand-pink transition-colors",children:r}),n]})}var v=e.i(37727);function w({isOpen:e,onClose:a}){let{user:s,logout:i,userProfile:o}=(0,r.useAuth)(),{openPurchaseModal:b}=(0,n.useUI)(),f=s?.email==="uylusjohnson@gmail.com";return((0,c.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),s)?(0,t.jsx)(u.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm"}),(0,t.jsxs)(d.motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 right-0 bottom-0 w-[85vw] max-w-sm z-[70] bg-black/90 border-l border-white/10 flex flex-col backdrop-blur-3xl shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-brand-pink to-brand-purple flex items-center justify-center text-white font-bold shadow-lg",children:s.displayName?.charAt(0).toUpperCase()||"U"}),f&&(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-brand-cyan rounded-full border-2 border-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-bold text-white",children:s.displayName}),f&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full bg-brand-cyan/20 text-brand-cyan text-[10px] font-bold border border-brand-cyan/30",children:"ADMIN"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:s.email})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:(0,t.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"glass-panel bg-white/5 rounded-2xl p-4 flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"My Stash"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-brand-yellow",children:[o?.gumDropsBalance||0," ",(0,t.jsx)("span",{className:"text-sm text-gray-400 font-normal",children:"Drops"})]})]}),(0,t.jsx)("button",{onClick:()=>{a(),b()},className:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-pink to-purple-600 flex items-center justify-center text-white shadow-lg shadow-brand-pink/20 hover:scale-105 active:scale-95 transition-transform",children:(0,t.jsx)(l.Plus,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("nav",{className:"flex-1 px-4 space-y-1",children:[f&&(0,t.jsx)(N,{href:"/admin",icon:(0,t.jsx)(h.LayoutDashboard,{className:"w-5 h-5 text-brand-cyan"}),label:"Admin Dashboard",onClick:a}),(0,t.jsx)(N,{href:"/dashboard",icon:(0,t.jsx)(h.LayoutDashboard,{className:"w-5 h-5"}),label:"Dashboard",onClick:a}),(0,t.jsx)(N,{href:"/dashboard/library",icon:(0,t.jsx)(m.Library,{className:"w-5 h-5"}),label:"My KandyDrops",onClick:a}),(0,t.jsx)(N,{href:"/dashboard/profile",icon:(0,t.jsx)(x.Settings,{className:"w-5 h-5"}),label:"Settings",onClick:a})]}),(0,t.jsx)("div",{className:"p-6 border-t border-white/10",children:(0,t.jsxs)("button",{onClick:()=>{i(),a()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-bold text-red-500 bg-red-500/10 hover:bg-red-500/20 rounded-xl transition-colors",children:[(0,t.jsx)(p.LogOut,{className:"w-4 h-4"}),"Sign Out"]})})]})]})}):null}function N({href:e,icon:r,label:n,onClick:s}){return(0,t.jsxs)(a.default,{href:e,onClick:s,className:"flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-white/5 rounded-xl transition-all group",children:[(0,t.jsx)("span",{className:"group-hover:text-brand-pink transition-colors",children:r}),(0,t.jsx)("span",{className:"font-medium",children:n})]})}var j=e.i(18566);let k=(0,s.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var C=e.i(70756),S=e.i(84614),P=e.i(87316),E=e.i(63209),D=e.i(31278),A=e.i(45110),I=e.i(40058),O=e.i(34662),T=e.i(77241),R=e.i(81092);let B=/[T ]/,U=/[Z ]/i,L=/([Z+-].*)$/,M=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,F=/^([+-])(\d{2})(?::?(\d{2}))?$/;function z(e){return e?parseInt(e):1}function G(e){return e&&parseFloat(e.replace(",","."))||0}let q=[31,null,31,30,31,30,31,31,30,31,30,31];function V(e){return e%400==0||e%4==0&&e%100!=0}function H({isOpen:e,onClose:a}){let{signInWithGoogle:n,signInWithEmail:s,signUpWithEmail:i}=(0,r.useAuth)(),[o,l]=(0,c.useState)("signin"),[p,h]=(0,c.useState)(!1),[m,x]=(0,c.useState)(null),[b,f]=(0,c.useState)(""),[y,g]=(0,c.useState)(""),[w,N]=(0,c.useState)(""),[j,H]=(0,c.useState)(""),W=async()=>{h(!0),x(null);try{await n(),a()}catch(e){x(e.message||"Failed to sign in with Google.")}finally{h(!1)}},K=async e=>{e.preventDefault(),h(!0),x(null);try{if("signup"===o){let e;if(!j)throw Error("Date of birth is required.");if(e=function(e,t){let a,r,n=()=>(0,T.constructFrom)(void 0,NaN),s=function(e){let t,a={},r=e.split(B);if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],U.test(a.date)&&(a.date=e.split(U)[0],t=e.substr(a.date.length,e.length))),t){let e=L.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);if(s.date){let e=function(e,t){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};let n=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,(void 0)??2);a=function(e,t){var a,r,n,s,i,o,l,c,d,u;if(null===t)return new Date(NaN);let p=e.match(M);if(!p)return new Date(NaN);let h=!!p[4],m=z(p[1]),x=z(p[2])-1,b=z(p[3]),f=z(p[4]),y=z(p[5])-1;if(h){let e,o;return(a=f,r=y,a>=1&&a<=53&&r>=0&&r<=6)?(n=t,s=f,i=y,(e=new Date(0)).setUTCFullYear(n,0,4),o=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((s-1)*7+i+1-o)),e):new Date(NaN)}{let e=new Date(0);return(o=t,l=x,c=b,l>=0&&l<=11&&c>=1&&c<=(q[l]||(V(o)?29:28))&&(d=t,(u=m)>=1&&u<=(V(d)?366:365)))?(e.setUTCFullYear(t,x,Math.max(m,b)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return n();let i=+a,o=0;if(s.time&&isNaN(o=function(e){var t,a,r;let n=e.match(_);if(!n)return NaN;let s=G(n[1]),i=G(n[2]),o=G(n[3]);return(t=s,a=i,r=o,24===t?0===a&&0===r:r>=0&&r<60&&a>=0&&a<60&&t>=0&&t<25)?s*O.millisecondsInHour+i*O.millisecondsInMinute+1e3*o:NaN}(s.time)))return n();if(s.timezone){if(isNaN(r=function(e){var t;if("Z"===e)return 0;let a=e.match(F);if(!a)return 0;let r="+"===a[1]?-1:1,n=parseInt(a[2]),s=a[3]&&parseInt(a[3])||0;return(t=s)>=0&&t<=59?r*(n*O.millisecondsInHour+s*O.millisecondsInMinute):NaN}(s.timezone)))return n()}else{let e=new Date(i+o),t=(0,R.toDate)(0,void 0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,R.toDate)(i+o+r,void 0)}(j),18>function(e,t,a){let[r,n]=(0,A.normalizeDates)(void 0,e,t),s=(0,I.compareAsc)(r,n),i=Math.abs(function(e,t,a){let[r,n]=(0,A.normalizeDates)(void 0,e,t);return r.getFullYear()-n.getFullYear()}(r,n));r.setFullYear(1584),n.setFullYear(1584);let o=(0,I.compareAsc)(r,n)===-s,l=s*(i-o);return 0===l?0:l}(new Date,e))throw Error("You must be 18+ to join KandyDrops.");if(!w||w.length<3)throw Error("Username must be at least 3 characters.");await i(b,y,w,j)}else await s(b,y);a()}catch(e){console.error(e),"auth/email-already-in-use"===e.code?x("Email is already registered."):"auth/invalid-credential"===e.code?x("Invalid email or password."):x(e.message||"Authentication failed. Please try again.")}finally{h(!1)}};return e?(0,t.jsx)(u.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 transition-opacity"}),(0,t.jsx)(d.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-zinc-900 border border-white/10 rounded-3xl shadow-2xl pointer-events-auto overflow-hidden",children:[(0,t.jsxs)("div",{className:"relative p-6 border-b border-white/5",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-brand-pink to-brand-cyan",children:"signin"===o?"Welcome Back":"Join the Drop"}),(0,t.jsx)("button",{onClick:a,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/5 transition-colors",children:(0,t.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("button",{onClick:W,disabled:p,className:"w-full flex items-center justify-center gap-3 py-3 bg-white text-black rounded-xl font-bold hover:bg-gray-200 transition-colors disabled:opacity-50",children:[p?(0,t.jsx)(D.Loader2,{className:"w-5 h-5 animate-spin"}):(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-white/10"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-zinc-900 text-gray-500",children:"Or continue with email"})})]}),(0,t.jsxs)("form",{onSubmit:K,className:"space-y-4",children:["signup"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Username"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(S.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>N(e.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-10 py-3 text-white focus:outline-none focus:border-brand-pink transition-colors",placeholder:"Create a username",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Date of Birth"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(P.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,t.jsx)("input",{type:"date",value:j,onChange:e=>H(e.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-10 py-3 text-white focus:outline-none focus:border-brand-pink transition-colors [color-scheme:dark]",required:!0})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 pl-1",children:"Must be 18 or older to join."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,t.jsx)("input",{type:"email",value:b,onChange:e=>f(e.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-10 py-3 text-white focus:outline-none focus:border-brand-pink transition-colors",placeholder:"Enter your email",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(C.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,t.jsx)("input",{type:"password",value:y,onChange:e=>g(e.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-10 py-3 text-white focus:outline-none focus:border-brand-pink transition-colors",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0,minLength:6})]})]}),m&&(0,t.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-200 text-sm",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4 mt-0.5 shrink-0"}),(0,t.jsx)("span",{children:m})]}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-brand-pink to-brand-purple rounded-xl text-white font-bold shadow-lg shadow-brand-pink/20 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100",children:p?(0,t.jsx)(D.Loader2,{className:"w-5 h-5 animate-spin mx-auto"}):"signin"===o?"Sign In":"Create Account"})]}),(0,t.jsx)("div",{className:"text-center text-sm text-gray-400",children:"signin"===o?(0,t.jsxs)("p",{children:["Don't have an account?"," ",(0,t.jsx)("button",{onClick:()=>{l("signup"),x(null)},className:"text-brand-pink hover:underline font-medium",children:"Sign up"})]}):(0,t.jsxs)("p",{children:["Already have an account?"," ",(0,t.jsx)("button",{onClick:()=>{l("signin"),x(null)},className:"text-brand-pink hover:underline font-medium",children:"Sign in"})]})})]})]})})]})}):null}function W(){let{user:e,userProfile:s}=(0,r.useAuth)(),{openPurchaseModal:d}=(0,n.useUI)(),u=(0,j.usePathname)(),[p,h]=(0,c.useState)(!1),[m,x]=(0,c.useState)(!1);return u?.startsWith("/dashboard")?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto glass-panel backdrop-blur-3xl bg-white/10 rounded-full px-6 py-3 flex items-center justify-between",children:[(0,t.jsx)(a.default,{href:"/",className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-brand-pink to-brand-cyan",children:"KandyDrops"}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-3 pl-4 pr-1.5 py-1.5 glass-button rounded-full border border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Wallet,{className:"w-4 h-4 text-brand-yellow drop-shadow-[0_0_8px_rgba(250,204,21,0.5)]"}),(0,t.jsx)("span",{className:"font-mono text-brand-yellow font-bold tracking-wider",children:s?.gumDropsBalance||0})]}),(0,t.jsx)("button",{onClick:d,className:"w-7 h-7 flex items-center justify-center bg-gradient-to-br from-brand-pink to-pink-600 rounded-full text-white shadow-lg shadow-brand-pink/20 hover:scale-105 active:scale-95 transition-all",title:"Buy Gum Drops",children:(0,t.jsx)(l.Plus,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(y,{})}),(0,t.jsx)("button",{onClick:()=>h(!0),className:"md:hidden w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-white border border-white/10",children:e.photoURL?(0,t.jsx)("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover opacity-80"}):(0,t.jsx)("span",{className:"font-bold text-sm bg-gradient-to-tr from-brand-pink to-brand-purple bg-clip-text text-transparent",children:e.displayName?.charAt(0).toUpperCase()})})]}):(0,t.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-white text-black font-bold text-sm tracking-wide shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_25px_rgba(255,255,255,0.5)] hover:scale-105 transition-all duration-300",children:[(0,t.jsx)(i,{className:"w-4 h-4"}),"Sign In"]})})]})}),(0,t.jsx)(w,{isOpen:p,onClose:()=>h(!1)}),(0,t.jsx)(H,{isOpen:m,onClose:()=>x(!1)})]})}e.s(["Navbar",()=>W],45678)},89901,e=>{"use strict";var t,a,r,n,s,i,o=e.i(71645);(t=n||(n={})).INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved",(a=s||(s={})).LOADING_STATUS="setLoadingStatus",a.RESET_OPTIONS="resetOptions",a.SET_BRAINTREE_INSTANCE="braintreeInstance",(r=i||(i={})).NUMBER="number",r.CVV="cvv",r.EXPIRATION_DATE="expirationDate",r.EXPIRATION_MONTH="expirationMonth",r.EXPIRATION_YEAR="expirationYear",r.POSTAL_CODE="postalCode";var l=function(){return(l=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function c(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}function d(e,t,a){if(a||2==arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var u="data-react-paypal-script-id",p="react-paypal-js",h="dataNamespace",m="dataSdkIntegrationSource",x="paypal";function b(e){return void 0===e&&(e=x),window[e]}function f(e){var t=e.reactComponentName,a=e.sdkComponentKey,r=e.sdkRequestedComponents,n=void 0===r?"":r,s=e.sdkDataNamespace,i=a.charAt(0).toUpperCase().concat(a.substring(1)),o="Unable to render <".concat(t," /> because window.").concat(void 0===s?x:s,".").concat(i," is undefined."),l="string"==typeof n?n:n.join(",");if(!l.includes(a)){var c=[l,a].filter(Boolean).join();o+="\nTo fix the issue, add '".concat(a,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return o}function y(e){e[u];var t=c(e,[u+""]);return"react-paypal-js-".concat(function(e){for(var t="",a=0;a<e.length;a++){var r=e[a].charCodeAt(0)*a;e[a+1]&&(r+=e[a+1].charCodeAt(0)*(a-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(t)))}function g(e,t){var a,r,i,o;switch(t.type){case s.LOADING_STATUS:if("object"==typeof t.value)return l(l({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message});return l(l({},e),{loadingStatus:t.value});case s.RESET_OPTIONS:return i=e.options[u],(null==(o=self.document.querySelector("script[".concat(u,'="').concat(i,'"]')))?void 0:o.parentNode)&&o.parentNode.removeChild(o),l(l({},e),{loadingStatus:n.PENDING,options:l(l(((a={})[m]=p,a),t.value),((r={})[u]="".concat(y(t.value)),r))});case s.SET_BRAINTREE_INSTANCE:return l(l({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var v=(0,o.createContext)(null);function w(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,o.useContext)(v));return[l(l({},e),{isInitial:e.loadingStatus===n.INITIAL,isPending:e.loadingStatus===n.PENDING,isResolved:e.loadingStatus===n.RESOLVED,isRejected:e.loadingStatus===n.REJECTED}),e.dispatch]}(0,o.createContext)({});var N=function(e){var t,a,r=e.className,n=e.disabled,s=void 0!==n&&n,i=e.children,u=e.forceReRender,p=c(e,["className","disabled","children","forceReRender"]),m="".concat(void 0===r?"":r," ").concat(s?"paypal-buttons-disabled":"").trim(),x=(0,o.useRef)(null),y=(0,o.useRef)(null),g=((t=(0,o.useRef)(new Proxy({},{get:function(e,t,a){return"function"==typeof e[t]?function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return e[t].apply(e,a)}:Reflect.get(e,t,a)}}))).current=Object.assign(t.current,p),t.current),v=w()[0],j=v.isResolved,k=v.options,C=(0,o.useState)(null),S=C[0],P=C[1],E=(0,o.useState)(!0),D=E[0],A=E[1],I=(0,o.useState)(null)[1];function O(){null!==y.current&&y.current.close().catch(function(){})}return(null==(a=y.current)?void 0:a.updateProps)&&y.current.updateProps({message:p.message}),(0,o.useEffect)(function(){if(!1===j)return O;var e=b(k.dataNamespace);if(void 0===e||void 0===e.Buttons)return I(function(){throw Error(f({reactComponentName:N.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:k.components,sdkDataNamespace:k[h]}))}),O;try{y.current=e.Buttons(l(l({},g),{onInit:function(e,t){P(t),"function"==typeof p.onInit&&p.onInit(e,t)}}))}catch(e){return I(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===y.current.isEligible()?A(!1):x.current&&y.current.render(x.current).catch(function(e){null!==x.current&&0!==x.current.children.length&&I(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),O},d(d([j],void 0===u?[]:u,!0),[p.fundingSource],!1)),(0,o.useEffect)(function(){null!==S&&(!0===s?S.disable().catch(function(){}):S.enable().catch(function(){}))},[s,S]),o.default.createElement(o.default.Fragment,null,D?o.default.createElement("div",{ref:x,style:s?{opacity:.38}:{},className:m}):i)};function j(e,t){void 0===t&&(t={});var a=document.createElement("script");return a.src=e,Object.keys(t).forEach(function(e){a.setAttribute(e,t[e]),"data-csp-nonce"===e&&a.setAttribute("nonce",t["data-csp-nonce"])}),a}N.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;function k(e,t){if("object"!=typeof e||null===e)throw Error("Expected an options object.");var a=e.environment;if(a&&"production"!==a&&"sandbox"!==a)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw Error("Expected PromisePonyfill to be a function.")}var C=function(e){var t=e.className,a=e.children,r=c(e,["className","children"]),n=w()[0],s=n.isResolved,i=n.options,d=(0,o.useRef)(null),u=(0,o.useState)(!0),p=u[0],m=u[1],x=(0,o.useState)(null)[1],y=function(e){var t=d.current;if(!t||!e.isEligible())return m(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&x(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,o.useEffect)(function(){if(!1!==s){var e=b(i[h]);if(void 0===e||void 0===e.Marks)return x(function(){throw Error(f({reactComponentName:C.displayName,sdkComponentKey:"marks",sdkRequestedComponents:i.components,sdkDataNamespace:i[h]}))});y(e.Marks(l({},r)))}},[s,r.fundingSource]),o.default.createElement(o.default.Fragment,null,p?o.default.createElement("div",{ref:d,className:void 0===t?"":t}):a)};C.displayName="PayPalMarks";var S=function(e){var t=e.className,a=e.forceReRender,r=c(e,["className","forceReRender"]),n=w()[0],s=n.isResolved,i=n.options,u=(0,o.useRef)(null),p=(0,o.useRef)(null),m=(0,o.useState)(null)[1];return(0,o.useEffect)(function(){if(!1!==s){var e=b(i[h]);if(void 0===e||void 0===e.Messages)return m(function(){throw Error(f({reactComponentName:S.displayName,sdkComponentKey:"messages",sdkRequestedComponents:i.components,sdkDataNamespace:i[h]}))});p.current=e.Messages(l({},r)),p.current.render(u.current).catch(function(e){null!==u.current&&0!==u.current.children.length&&m(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},d([s],void 0===a?[]:a,!0)),o.default.createElement("div",{ref:u,className:void 0===t?"":t})};S.displayName="PayPalMessages";var P=function(e){var t,a=e.options,r=void 0===a?{clientId:"test"}:a,i=e.children,c=e.deferLoading,d=void 0!==c&&c,h=(0,o.useReducer)(g,{options:l(l({},r),((t={}).dataJsSdkLibrary=p,t[m]=p,t[u]="".concat(y(r)),t)),loadingStatus:d?n.INITIAL:n.PENDING}),x=h[0],b=h[1];return(0,o.useEffect)(function(){if(!1===d&&x.loadingStatus===n.INITIAL)return b({type:s.LOADING_STATUS,value:n.PENDING});if(x.loadingStatus===n.PENDING){var e=!0;return(function(e,t){if(void 0===t&&(t=Promise),k(e,t),"u"<typeof document)return t.resolve(null);var a,r,n,s,i,o,l,c,d,u,p=(s=e.sdkBaseUrl,i=e.environment,o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}(e,["sdkBaseUrl","environment"]),l=s||("sandbox"===i?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"),d=(c=Object.keys(o).filter(function(e){return void 0!==o[e]&&null!==o[e]&&""!==o[e]}).reduce(function(e,t){var a=o[t].toString();return"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})).substring(0,4)||"crossorigin"===t?e.attributes[t]=a:e.queryParams[t]=a,e},{queryParams:{},attributes:{}})).queryParams,u=c.attributes,d["merchant-id"]&&-1!==d["merchant-id"].indexOf(",")&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(l,"?").concat((r="",Object.keys(a=d).forEach(function(e){0!==r.length&&(r+="&"),r+=e+"="+a[e]}),r)),attributes:u}),h=p.url,m=p.attributes,x=m["data-namespace"]||"paypal",b=(n=x,window[n]);return(m["data-js-sdk-library"]||(m["data-js-sdk-library"]="paypal-js"),function(e,t){var a=document.querySelector('script[src="'.concat(e,'"]'));if(null===a)return null;var r=j(e,t),n=a.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(r.dataset).length)return null;var s=!0;return Object.keys(n.dataset).forEach(function(e){n.dataset[e]!==r.dataset[e]&&(s=!1)}),s?a:null}(h,m)&&b)?t.resolve(b):(function(e,t){void 0===t&&(t=Promise),k(e,t);var a=e.url,r=e.attributes;if("string"!=typeof a||0===a.length)throw Error("Invalid url.");if(void 0!==r&&"object"!=typeof r)throw Error("Expected attributes to be an object.");return new t(function(e,t){var n,s,i,o,l,c;if("u"<typeof document)return e();s=(n={url:a,attributes:r,onSuccess:function(){return e()},onError:function(){return t(Error('The script "'.concat(a,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,i=n.attributes,o=n.onSuccess,l=n.onError,(c=j(s,i)).onerror=l,c.onload=o,document.head.insertBefore(c,document.head.firstElementChild)})})({url:h,attributes:m},t).then(function(){var e,t=(e=x,window[e]);if(t)return t;throw Error("The window.".concat(x," global variable is not available."))})})(x.options).then(function(){e&&b({type:s.LOADING_STATUS,value:n.RESOLVED})}).catch(function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&b({type:s.LOADING_STATUS,value:{state:n.REJECTED,message:String(t)}})}),function(){e=!1}}},[x.options,d,x.loadingStatus]),o.default.createElement(v.Provider,{value:l(l({},x),{dispatch:b})},i)};function E(){}(0,o.createContext)({cardFieldsForm:null,fields:{},registerField:E,unregisterField:E});e.s(["DISPATCH_ACTION",()=>s,"PayPalButtons",()=>N,"PayPalScriptProvider",()=>P,"SCRIPT_LOADING_STATE",()=>n,"usePayPalScriptReducer",()=>w])},94062,e=>{"use strict";var t=e.i(43476),a=e.i(89901);let r={clientId:"Afaw0i8m7U9_m-8-FxqfZ37DkMLPBWfR2NBHIy47e2jeLhrN3QIoRBBuoBwh3WL-3Ixjlh2Ua4lGdhRl",currency:"USD",intent:"capture"};function n({children:e}){return(0,t.jsx)(a.PayPalScriptProvider,{options:r,deferLoading:!0,children:e})}e.s(["PayPalProvider",()=>n])},14872,e=>{"use strict";var t=e.i(43476),a=e.i(75254);let r=(0,a.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),n=(0,a.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var s=e.i(52754),i=e.i(83086),o=e.i(22016),l=e.i(18566),c=e.i(75157),d=e.i(32341),u=e.i(86690);function p(){let e=(0,l.usePathname)(),{user:a,userProfile:p}=(0,d.useAuth)(),{openPurchaseModal:h}=(0,u.useUI)();if(e?.startsWith("/admin"))return null;let m=[{label:"Home",href:"/",icon:r},{label:"Drops",href:"/drops",icon:n},{label:"Experiences",href:"/experiences",icon:i.Sparkles}];return(0,t.jsxs)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 p-4 pb-6 pointer-events-none",children:[a&&(0,t.jsx)("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 pointer-events-auto",children:(0,t.jsxs)("button",{onClick:h,className:"bg-black/80 backdrop-blur-xl border border-brand-yellow/30 pl-3 pr-4 py-1.5 rounded-full flex items-center gap-2 shadow-[0_4px_20px_rgba(250,204,21,0.2)] animate-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-brand-yellow/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(s.Wallet,{className:"w-3 h-3 text-brand-yellow"})}),(0,t.jsx)("span",{className:"font-bold text-sm text-white tabular-nums",children:p?.gumDropsBalance||0}),(0,t.jsx)("div",{className:"flex flex-col leading-none",children:(0,t.jsx)("span",{className:"text-[8px] text-gray-400 font-bold uppercase tracking-wider",children:"Add"})})]})}),(0,t.jsxs)("nav",{className:"pointer-events-auto bg-black/80 backdrop-blur-xl border border-white/10 rounded-2xl flex items-center justify-around p-2 shadow-2xl shadow-black/50",children:[m.map(a=>{let r=e===a.href,n=a.icon;return(0,t.jsxs)(o.default,{href:a.href,className:(0,c.cn)("flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-300 w-16 active:scale-90",r?"text-brand-pink":"text-gray-500 hover:text-white"),onClick:()=>{"u">typeof navigator&&navigator.vibrate&&navigator.vibrate(10)},children:[(0,t.jsx)("div",{className:(0,c.cn)("p-1 rounded-lg transition-all",r&&"bg-brand-pink/10"),children:(0,t.jsx)(n,{className:(0,c.cn)("w-6 h-6",r&&"fill-current")})}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:a.label})]},a.label)}),(0,t.jsxs)("button",{onClick:()=>{"u">typeof navigator&&navigator.vibrate&&navigator.vibrate(10),h()},className:"flex flex-col items-center gap-1 p-2 rounded-xl w-16 text-brand-yellow hover:text-white transition-colors active:scale-90",children:[(0,t.jsx)("div",{className:"p-1 rounded-lg bg-brand-yellow/10",children:(0,t.jsx)(s.Wallet,{className:"w-6 h-6"})}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:"Wallet"})]})]})]})}e.s(["default",()=>p],14872)},89662,e=>{"use strict";var t=e.i(43476),a=e.i(86690),r=e.i(71645),n=e.i(89901),s=e.i(37727);let i=(0,e.i(75254).default)("candy",[["path",{d:"M10 7v10.9",key:"1gynux"}],["path",{d:"M14 6.1V17",key:"116kdf"}],["path",{d:"M16 7V3a1 1 0 0 1 1.707-.707 2.5 2.5 0 0 0 2.152.717 1 1 0 0 1 1.131 1.131 2.5 2.5 0 0 0 .717 2.152A1 1 0 0 1 21 8h-4",key:"gpb6xx"}],["path",{d:"M16.536 7.465a5 5 0 0 0-7.072 0l-2 2a5 5 0 0 0 0 7.07 5 5 0 0 0 7.072 0l2-2a5 5 0 0 0 0-7.07",key:"1tsln4"}],["path",{d:"M8 17v4a1 1 0 0 1-1.707.707 2.5 2.5 0 0 0-2.152-.717 1 1 0 0 1-1.131-1.131 2.5 2.5 0 0 0-.717-2.152A1 1 0 0 1 3 16h4",key:"qexcha"}]]);var o=e.i(32341),l=e.i(75157);e.i(36180);var c=e.i(98925),d=e.i(59141),u=e.i(46932),p=e.i(88653),h=e.i(46696),m=e.i(59133);let x=[{drops:100,price:1.99,label:"Starter Pack"},{drops:300,price:4.99,label:"Fan Pack"},{drops:700,price:9.99,label:"Premium Stash"},{drops:1500,price:19.99,label:"Ultimate Kandy"}];function b({isOpen:a,onClose:b}){let{user:f}=(0,o.useAuth)(),[y,g]=(0,r.useState)(x[1]),[v,w]=(0,r.useState)(!1),[N,j]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1),[{isResolved:S,isPending:P},E]=(0,n.usePayPalScriptReducer)();if((0,r.useEffect)(()=>{a&&!S&&!P&&E&&E({type:n.DISPATCH_ACTION.LOADING_STATUS,value:n.SCRIPT_LOADING_STATE.PENDING})},[a,S,P,E]),!a)return null;let D=async t=>{w(!0),j(null);try{if(!f)throw Error("User not authenticated");let a=(0,c.doc)(d.db,"users",f.uid),r=(0,c.writeBatch)(d.db);r.update(a,{gumDropsBalance:(0,c.increment)(y.drops)});let n=(0,c.doc)((0,c.collection)(d.db,"transactions"));r.set(n,{userId:f.uid,type:"purchase",amount:y.drops,cost:y.price,currency:"USD",paymentId:t,status:"completed",timestamp:(0,c.serverTimestamp)()}),await r.commit(),e.A(81809).then(({getAnalytics:e,logEvent:a})=>{let r=e();a(r,"purchase",{currency:"USD",value:y.price,transaction_id:t,items:[{item_name:y.label,quantity:1}]})}),C(!0),setTimeout(()=>{C(!1),b()},3e3)}catch(e){console.error("Purchase error:",e),j("Purchase failed. Please contact support.")}finally{w(!1)}};return(0,t.jsx)(p.AnimatePresence,{children:a&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(u.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,className:"absolute inset-0 bg-black/60 backdrop-blur-md"}),(0,t.jsxs)(u.motion.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-md bg-black/50 backdrop-blur-3xl rounded-3xl p-8 shadow-2xl border border-white/10 overflow-hidden",children:[(0,t.jsx)("button",{onClick:b,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/10 text-gray-400 hover:text-white transition-colors z-20",children:(0,t.jsx)(s.X,{className:"w-5 h-5"})}),(0,t.jsx)(p.AnimatePresence,{mode:"wait",children:k?(0,t.jsxs)(u.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-10",onAnimationComplete:()=>{h.toast.success("Purchase Successful!",{description:`Added ${y.drops} Gum Drops to your wallet.`,icon:"üç¨"});let e=Date.now()+3e3;!function t(){let a=e-Date.now();a<=0||((0,m.default)({particleCount:a/3e3*50,startVelocity:30,spread:360,origin:{x:Math.random(),y:Math.random()-.2},zIndex:9999}),requestAnimationFrame(t))}()},children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-brand-green/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_30px_rgba(20,230,130,0.3)]",children:(0,t.jsx)(i,{className:"w-10 h-10 text-brand-green drop-shadow-md"})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"All Set!"}),(0,t.jsxs)("p",{className:"text-gray-400 mb-8 max-w-[200px] mx-auto",children:["You've added ",(0,t.jsxs)("strong",{children:[y.drops," Gum Drops"]})," to your stash."]}),(0,t.jsx)("button",{onClick:b,className:"w-full py-3 rounded-xl font-bold bg-white text-black hover:bg-gray-100 transition-colors",children:"Awesome"})]},"success"):(0,t.jsxs)(u.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(u.motion.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:4,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-tr from-brand-pink to-brand-purple rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg shadow-brand-pink/20",children:(0,t.jsx)(i,{className:"w-8 h-8 text-white drop-shadow-md"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1 tracking-tight",children:"Get Gum Drops"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Unwrap exclusive content instantly."})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-8",children:x.map((e,a)=>{let r=y.drops===e.drops;return(0,t.jsxs)("button",{onClick:()=>g(e),className:(0,l.cn)("relative p-4 rounded-2xl text-left transition-all duration-300 border",r?"bg-brand-pink/10 border-brand-pink/50 ring-1 ring-brand-pink/30 shadow-[0_0_20px_rgba(236,72,153,0.15)] scale-[1.02]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/10"),children:[1===a&&(0,t.jsx)("span",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 bg-gradient-to-r from-brand-cyan to-blue-500 text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 py-0.5 rounded-full text-white shadow-lg border border-white/10 tracking-wide uppercase whitespace-nowrap",children:"Best Value"}),(0,t.jsx)("div",{className:"font-bold text-lg text-white mb-0.5",children:e.drops}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:e.label}),(0,t.jsxs)("div",{className:(0,l.cn)("font-bold",r?"text-brand-pink":"text-white"),children:["$",e.price]})]},e.drops)})}),(0,t.jsxs)("div",{className:"w-full min-h-[150px] relative z-10",children:[(0,t.jsx)(n.PayPalButtons,{forceReRender:[y.price],style:{layout:"vertical",color:"white",shape:"rect",label:"pay",height:48},createOrder:(e,t)=>t.order.create({intent:"CAPTURE",purchase_units:[{description:`${y.drops} Gum Drops - Virtual Currency`,amount:{currency_code:"USD",value:y.price.toString()}}]}),onApprove:async(e,t)=>{let a=await t.order?.capture();a?.id&&await D(a.id)},onError:e=>{console.error("PayPal Error:",e),h.toast.error("PayPal encountered an error",{description:"Please try again."}),j("PayPal encountered an error. Please try again.")}}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 text-center mt-4 leading-tight",children:"By purchasing, you agree that Gum Drops are virtual items with no monetary value outside this platform."})]}),N&&(0,t.jsx)(u.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg text-center text-xs font-bold",children:N})]},"form")})]})]})})}function f(){let{isPurchaseModalOpen:e,closePurchaseModal:r}=(0,a.useUI)();return(0,t.jsx)(b,{isOpen:e,onClose:r})}e.s(["GlobalPurchaseModal",()=>f],89662)},40244,e=>{"use strict";let t;var a=e.i(43476),r=e.i(71645);function n(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}var s=function e(t,a){function r(e,r,s){if(!(typeof document>"u")){"number"==typeof(s=n({},a,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in s)s[o]&&(i+="; "+o,!0!==s[o]&&(i+="="+s[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var a=document.cookie?document.cookie.split("; "):[],r={},n=0;n<a.length;n++){var s=a[n].split("="),i=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(r[o]=t.read(i,o),e===o)break}catch{}}return e?r[e]:r}},remove:function(e,t){r(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let i=({condition:e,wrapper:t,children:a})=>e?t(a):a,o="bottom";var l=((t=l||{}).STRICT="strict",t.LAX="lax",t.NONE="none",t);let c="byCookieValue",d="CookieConsent",u={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:o,visible:c,onAccept:e=>{},onDecline:()=>{},cookieName:d,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:l.LAX,ButtonComponent:({children:e,...t})=>r.default.createElement("button",{...t},e),overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},p={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},h=e=>`${e}-legacy`,m=class extends r.Component{constructor(){super(...arguments),this.state=p,this.handleScroll=()=>{let{acceptOnScrollPercentage:e}={...u,...this.props},t=document.documentElement,a=document.body,r="scrollTop",n="scrollHeight";(t[r]||a[r])/((t[n]||a[n])-t.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{let{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){let{debug:e}=this.props;(void 0===this.getCookieValue()||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){let{cookieName:t,cookieValue:a,hideOnAccept:r,onAccept:n}={...u,...this.props};this.setCookie(t,a),n(e??!1),r&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){let{acceptOnOverlayClick:e,onOverlayClick:t}={...u,...this.props};e&&this.accept(),t()}decline(){let{cookieName:e,declineCookieValue:t,hideOnDecline:a,onDecline:r,setDeclineCookie:n}={...u,...this.props};n&&this.setCookie(e,t),r(),a&&this.setState({visible:!1})}setCookie(e,t){let{extraCookieOptions:a,expires:r,sameSite:n}=this.props,{cookieSecurity:i}=this.props;void 0===i&&(i=!globalThis.location||"https:"===globalThis.location.protocol);let o={expires:r,...a,sameSite:n,secure:i};n===l.NONE&&s.set(h(e),t,o),s.set(e,t,o)}getCookieValue(){let{cookieName:e}=this.props;return((e=d)=>{let t=s.get(e);return void 0===t?s.get(h(e)):t})(e)}render(){switch(this.props.visible){case"hidden":return null;case c:if(!this.state.visible)return null}let{location:e,style:t,buttonStyle:a,declineButtonStyle:n,contentStyle:s,disableStyles:l,buttonText:d,declineButtonText:u,containerClasses:p,contentClasses:h,buttonClasses:m,buttonWrapperClasses:x,declineButtonClasses:b,buttonId:f,declineButtonId:y,disableButtonStyles:g,enableDeclineButton:v,flipButtons:w,ButtonComponent:N,overlay:j,overlayClasses:k,overlayStyle:C,ariaAcceptLabel:S,ariaDeclineLabel:P,customContainerAttributes:E,customContentAttributes:D,customButtonProps:A,customDeclineButtonProps:I,customButtonWrapperAttributes:O}=this.props,T={},R={},B={},U={},L={};switch(l?(T=Object.assign({},t),R=Object.assign({},a),B=Object.assign({},n),U=Object.assign({},s),L=Object.assign({},C)):(T=Object.assign({},{...this.state.style,...t}),U=Object.assign({},{...this.state.contentStyle,...s}),L=Object.assign({},{...this.state.overlayStyle,...C}),g?(R=Object.assign({},a),B=Object.assign({},n)):(R=Object.assign({},{...this.state.buttonStyle,...a}),B=Object.assign({},{...this.state.declineButtonStyle,...n}))),e){case"top":T.top="0";break;case o:T.bottom="0"}let M=[];return v&&M.push(r.default.createElement(N,{key:"declineButton",style:B,className:b,id:y,"aria-label":P,onClick:()=>{this.decline()},...I},u)),M.push(r.default.createElement(N,{key:"acceptButton",style:R,className:m,id:f,"aria-label":S,onClick:()=>{this.accept()},...A},d)),w&&M.reverse(),r.default.createElement(i,{condition:j,wrapper:e=>r.default.createElement("div",{style:L,className:k,onClick:()=>{this.overlayClick()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},e)},r.default.createElement("div",{className:`${p}`,style:T,...E},r.default.createElement("div",{style:U,className:h,...D},this.props.children),r.default.createElement("div",{className:`${x}`,...O},M.map(e=>e))))}};function x(){return(0,a.jsxs)(m,{location:"bottom",buttonText:"I Understand",cookieName:"kandydrops_consent",style:{background:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"13px",alignItems:"center"},buttonStyle:{background:"#ec4899",color:"white",fontSize:"13px",fontWeight:"bold",borderRadius:"8px",padding:"8px 16px"},expires:150,children:["This website uses cookies to enhance the user experience and track interactions for improvement."," ",(0,a.jsx)("span",{style:{fontSize:"10px",color:"#6b7280"},children:"By continuing, you verify you are over 18."})]})}m.defaultProps=u,e.s(["default",()=>x],40244)}]);