(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157),r=e.i(31278);let l=a.forwardRef(({className:e,variant:a="default",size:l="default",isLoading:i,children:d,...n},o)=>(0,t.jsxs)("button",{ref:o,className:(0,s.cn)("inline-flex items-center justify-center rounded-xl text-sm font-bold transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 active:scale-95",{default:"bg-white text-black hover:bg-zinc-200 shadow-lg shadow-white/10",outline:"border border-white/20 bg-transparent hover:bg-white/5 text-white",ghost:"hover:bg-white/10 text-gray-300 hover:text-white",glass:"glass-button text-white",danger:"bg-red-500/10 text-red-500 hover:bg-red-500/20 border border-red-500/20",brand:"bg-gradient-to-r from-brand-pink to-brand-purple text-white shadow-lg shadow-brand-pink/20 hover:opacity-90"}[a],{default:"h-11 px-5 py-2",sm:"h-9 px-3 text-xs",lg:"h-14 px-8 text-lg",icon:"h-10 w-10"}[l],e),disabled:i||n.disabled,...n,children:[i&&(0,t.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),d]}));l.displayName="Button",e.s(["Button",()=>l])},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},11925,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(61086);var s=e.i(27215),r=e.i(59141),l=e.i(31278),i=e.i(69074),d=e.i(27612),n=e.i(75254);let o=(0,n.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),c=(0,n.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),h=(0,n.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),x=(0,n.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),m=(0,n.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=e.i(59544);function u(){let[e,n]=(0,a.useState)([]),[u,f]=(0,a.useState)(!0),[g,w]=(0,a.useState)(!1),[y,b]=(0,a.useState)(0);(0,a.useEffect)(()=>{v()},[y]);let v=async()=>{f(!0);try{let e=(0,s.ref)(r.storage,"drops"),t=(await (0,s.listAll)(e)).items.map(async e=>{let t=await (0,s.getDownloadURL)(e);return{name:e.name,fullPath:e.fullPath,url:t}}),a=await Promise.all(t);n(a)}catch(e){console.error("Error fetching files:",e)}finally{f(!1)}},j=async e=>{if(e.target.files&&0!==e.target.files.length){w(!0);try{let t=e.target.files[0],a=(0,s.ref)(r.storage,`drops/${Date.now()}_${t.name}`);await (0,s.uploadBytes)(a,t),b(e=>e+1)}catch(e){console.error("Error uploading file:",e),alert("Upload failed.")}finally{w(!1)}}},N=async t=>{if(confirm("Are you sure you want to permanently delete this file?"))try{let a=(0,s.ref)(r.storage,t);await (0,s.deleteObject)(a),n(e.filter(e=>e.fullPath!==t))}catch(e){console.error("Error deleting file:",e),alert("Delete failed.")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Content Manager"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage assets in Firebase Storage."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(p.Button,{variant:"ghost",onClick:()=>b(e=>e+1),children:(0,t.jsx)(m,{className:`w-4 h-4 ${u?"animate-spin":""}`})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"file",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:g}),(0,t.jsxs)(p.Button,{variant:"brand",disabled:g,children:[g?(0,t.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(i.Upload,{className:"w-4 h-4 mr-2"}),"Upload File"]})]})]})]}),(0,t.jsx)("div",{className:"glass-panel rounded-2xl overflow-hidden border border-white/5",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/5 bg-white/5 text-gray-400 text-xs uppercase tracking-wider",children:[(0,t.jsx)("th",{className:"p-4 font-medium",children:"Preview"}),(0,t.jsx)("th",{className:"p-4 font-medium",children:"Filename"}),(0,t.jsx)("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:u&&0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"p-8 text-center",children:(0,t.jsx)(l.Loader2,{className:"w-6 h-6 text-brand-pink animate-spin mx-auto"})})}):0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"p-8 text-center text-gray-500",children:"No files found in 'drops' folder."})}):e.map(e=>{var a;let s;return(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 w-20",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-black/50 overflow-hidden flex items-center justify-center border border-white/10",children:["jpg","jpeg","png","webp"].some(t=>e.name.toLowerCase().endsWith(t))?(0,t.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"}):(a=e.name,["jpg","jpeg","png","gif","webp"].includes((s=a.split(".").pop()?.toLowerCase())||"")?(0,t.jsx)(h,{className:"w-5 h-5 text-brand-pink"}):["mp4","mov","webm"].includes(s||"")?(0,t.jsx)(x,{className:"w-5 h-5 text-brand-cyan"}):(0,t.jsx)(c,{className:"w-5 h-5 text-gray-500"}))})}),(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("div",{className:"font-medium text-white truncate max-w-xs md:max-w-md",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500 font-mono truncate max-w-xs",children:e.fullPath})]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=e.url,void(navigator.clipboard.writeText(t),alert("URL copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",title:"Copy URL",children:(0,t.jsx)(o,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>N(e.fullPath),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-500 transition-colors",title:"Delete File",children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})]})})]},e.fullPath)})})]})})})]})}e.s(["default",()=>u],11925)}]);